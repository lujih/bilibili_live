# Bilibili Live Manager  

## 项目简介  
**Bilibili Live Manager** 是一个简单高效的多平台无人直播管理工具，基于 Linux 环境设计，支持以下功能：  
- 自动化推流到多个平台  
- 视频转码（压缩码率以减少 CPU 占用）  
- 动态检测视频文件夹内文件增减，支持循环播放  
- CPU 压力测试，帮助选择合适的码率  
- 一键更新主脚本和推流脚本（从 GitHub 仓库拉取）  

---

## 功能亮点  
1. **多平台推流**：支持配置多个推流平台。  
2. **视频转码**：通过压缩视频码率优化直播性能，减轻 CPU 负担。  
3. **动态视频循环**：自动检测视频文件夹内视频，所有视频播放完毕后自动循环。  
4. **自动更新**：主脚本和推流脚本均可从 GitHub 拉取更新，方便维护和扩展。  
5. **CPU 压力测试**：生成不同码率测试视频，帮助用户选择最适合的码率进行推流。  

---

## 项目目录结构

. ├── bilibili_live_manager.sh   # 主脚本 ├── stream.sh                  # 推流脚本 ├── original_videos/           # 原始视频存放目录 └── videos/                    # 转码后视频存放目录

---

## 安装与使用  

### 1. 环境要求  
- 操作系统：Linux（推荐 Debian/Ubuntu）  
- 依赖：`ffmpeg`, `curl`, `screen`  

### 2. 安装步骤  
#### （1）克隆仓库  
```bash
git clone https://github.com/lujih/bilibili_live.git
cd bilibili_live
```

#### （2）赋予脚本执行权限
```
chmod +x bilibili_live_manager.sh
chmod +x stream.sh
```
#### （3）运行主脚本
```
./bilibili_live_manager.sh
```

---

## 使用指南

### 主菜单功能

运行脚本后，您将看到以下菜单：
```
=====================================
        📺 多平台无人直播管理工具         
=====================================
  1. 安装环境依赖
  2. 初始化视频文件夹
  3. 更新主脚本和推流脚本
  4. 转码视频（压缩码率）
  5. 启动推流服务
  6. 停止推流服务
  7. CPU 压力测试
  8. 退出脚本
=====================================
```
### 功能详情

1. 安装环境依赖

自动安装所需的系统依赖：ffmpeg, curl, screen。

2. 初始化视频文件夹

创建以下文件夹：

original_videos/：存放原始视频。

videos/：存放转码后的视频。


3. 更新脚本

一键从 GitHub 拉取最新的主脚本和推流脚本，保持脚本始终最新。

4. 视频转码

从 original_videos/ 文件夹中选择视频，根据用户选择的码率进行压缩，并保存至 videos/ 文件夹中。

5. 启动推流服务

配置推流地址并启动推流服务。推流服务会动态检测 videos/ 文件夹内的视频，支持视频的增删并自动循环播放。

6. 停止推流服务

关闭正在运行的推流服务。

7. CPU 压力测试

生成不同码率的视频以检测 CPU 负载，帮助用户选择合适的推流码率。

```bash

###注意事项

1. 推流地址
在运行推流服务时，请确保输入正确的推流地址（如 B 站推流码）。


2. 环境依赖
请确保所需的依赖已正确安装，建议使用 Ubuntu/Debian 系统运行。


3. 网络限制
如果服务器无法访问 raw.githubusercontent.com，请参考 解决方法 修改脚本下载链接。
```



---

## 贡献指南

欢迎贡献代码、报告问题或提供建议：

1. Fork 本仓库


2. 创建新分支：git checkout -b feature/my-feature


3. 提交更改：git commit -am 'Add some feature'


4. 推送到分支：git push origin feature/my-feature


5. 提交 Pull Request
